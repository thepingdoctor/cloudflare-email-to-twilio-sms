# Wrangler Configuration
# Generated by: security-validation-test
# Generated at: 2025-11-14T02:12:30.082383Z

name = "test-email-to-sms"
main = "src/index.ts"
compatibility_date = "2024-10-22"
compatibility_flags = ["nodejs_compat"]

# Email routing
[[email_routing]]
pattern = "*@sms.test.example.com"

# Environment variables (use wrangler secret for sensitive values)
[vars]
WORKER_NAME = "test-email-to-sms"
DOMAIN = "test.example.com"

# Secrets (set using: wrangler secret put <NAME>)
# TWILIO_ACCOUNT_SID
# TWILIO_AUTH_TOKEN
# TWILIO_PHONE_NUMBER

# KV Namespace for rate limiting
[[kv_namespaces]]
binding = "RATE_LIMIT_KV"
id = "YOUR_KV_NAMESPACE_ID"
preview_id = "YOUR_PREVIEW_KV_NAMESPACE_ID"

# Analytics Engine binding
[[analytics_engine_datasets]]
binding = "ANALYTICS"
dataset = "EMAIL_SMS_ANALYTICS"

# Build configuration
[build]
command = "npm run build"

[build.upload]
format = "service-worker"